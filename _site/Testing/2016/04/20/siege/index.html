
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	
	<title>压测工具siege的简单使用</title>
    
	
	<meta name="author" content="Feng Ling">
	
	<link rel="stylesheet" href="/assets/themes/Snail/css/jquery.fancybox.css">
	<link rel="stylesheet" href="/assets/themes/Snail/css/main.css">
	<link rel="stylesheet" href="/assets/themes/Snail/css/pages/journal.css">
	<link rel="stylesheet" href="/assets/themes/Snail/css/team.css">
	<link rel="stylesheet" href="/assets/themes/Snail/css/static.css">
	<link rel="stylesheet" href="/assets/themes/Snail/css/errors.css">
	<link rel="stylesheet" href="/assets/themes/Snail/google-code-prettify/prettify.css">
	
	<link rel="shortcut icon" href="/assets/themes/Snail/img/1.jpeg">
	
	<script type="text/javascript" src="/assets/themes/Snail/js/jquery.min.js"></script>
	
	<script type="text/javascript" src="/assets/themes/Snail/js/auto_loadmore.js"></script>
	
	<script type="text/javascript" src="/assets/themes/Snail/google-code-prettify/prettify.js"></script>
	
	<script type="text/javascript">
	  $(function(){
		$("pre code").addClass("prettyprint linenums");
		prettyPrint();
	  });
	</script>
	
<!--[if lt IE 9]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
</head>
<body>
	<noscript>
		&amp;lt;div id="no-js"&amp;gt;Please enable JavaScript in your browser to experience / fully&amp;lt;/div&amp;gt;
	</noscript>
    <div id="page-container">
		<div>
			<nav>
	<div id="nav-l">
	</div>
	<div id="nav-c">
		<ul id="nav-list" style="width: 700px;">
			<li id="home"><a href="/">Home</a></li>
			
			
			
				
				  
				
			 
				
				  
				
			 
				
				  
					
					<li id = "Categories"><a href="/categories.html">Categories</a></li>
					
				  
				
			 
				
			 
				
				  
				
			 
				
				  
				
			 
				
				  
					
					<li id = "About Me"><a href="/about.html">About Me</a></li>
					
				  
				
			 
				
				  
					
					<li id = "Archive"><a href="/archive.html">Archive</a></li>
					
				  
				
			 
				
				  
				
			 
				
				  
					
					<li id = "Tags"><a href="/tags.html">Tags</a></li>
					
				  
				
			 
				
			 
				
			 
			
			
		</ul>
		<form id="nav-search" method="GET" action="/search.html">
			<div id="search-right-pix">
				<div id="search-left-pix">
					<div id="search-center-pix">
						<div id="search-icon-pix"></div>
						<input name="query" type="text" placeholder="Search">
					</div>
				</div>
			</div>
		</form>
		
		
	</div>
	<div id="nav-r">
	</div>
</nav>
			<div id="page-content">
				
<div id="page-content">
	<div class="cont932">
	<div id="journal-articles-block">
		<div class="journal-article">
			<div class="journal-post-info">
				<div class="journal-cat-box">
				
				
				<div class="journal-cat-box">

<a href="/categories.html#Testing-ref" title="Testing">
	Testing

</a>
</div>
				
				</div>
			</div>
			<div class="journal-body">
				<h1 class="journal-title">压测工具siege的简单使用<span class="author">by Mastery</span>
				</h1>
				<span class="the-article">
				<!--more-->

<h1 id="siege-introduction">Siege Introduction</h1>
<blockquote>
  <p>Siege是一个压力测试和评测工具，设计用于WEB开发这评估应用在压力下的承受能力：可以根据配置对一个WEB站点进行多用户的并发访问，记录每个用户所有请求过程的相应时间，并在一定数量的并发访问下重复进行。</p>
</blockquote>

<h2 id="ubuntu-install">Ubuntu Install</h2>

<pre><code>#检验siege是否存在apt中 
sudo apt-cache search siege
#安装
sudo apt-get install siege
</code></pre>

<h2 id="parameter-description">Parameter Description</h2>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>-C或-config</td>
      <td>在屏幕上打印显示出当前的配置,配置是包括在他的配置文$HOME/.siegerc中,可以编辑里面的参数,这样每次siege 都会按照它运行.</td>
    </tr>
    <tr>
      <td>-v</td>
      <td>输出版本信息和siege一些命令</td>
    </tr>
    <tr>
      <td>-c n或-concurrent=n</td>
      <td>模拟n个用户同时并发访问；n不要设置的太大，因为越大，siege消耗的资源就更多</td>
    </tr>
    <tr>
      <td>-i 或 -internet</td>
      <td>随机访问urls.txt中的url列表项，以此模拟真实的访问情况（随机性）</td>
    </tr>
    <tr>
      <td>-d n 或 -delay=n</td>
      <td>hit每个url之间访问的延迟，在0-n之间;一般该参数不会&gt;10</td>
    </tr>
    <tr>
      <td>-r n 或 -reps=n</td>
      <td>重复运行测试n次，不能与-t同时设置</td>
    </tr>
    <tr>
      <td>-t n 或 -time=n</td>
      <td>持续运行siege n秒，如10S(秒)，10M(分钟),10H(小时)</td>
    </tr>
    <tr>
      <td>-l</td>
      <td>运行结束，将统计数据保存到日志文件中siege.log，可通过siege -C查看siege.log的具体位置，也可在配置文件中自定义</td>
    </tr>
    <tr>
      <td>-R SIEGERC 或 -rc=SIEGERC</td>
      <td>指定用特定的siege配置文件来运行，默认为$HOME/.siegerc</td>
    </tr>
    <tr>
      <td>-f file 或 -file=FILE</td>
      <td>指定urls文件来运行</td>
    </tr>
    <tr>
      <td>-u URL 或 -url=URL</td>
      <td>测试指定的url</td>
    </tr>
  </tbody>
</table>

<h3 id="use-parameter">Use Parameter</h3>
<ol>
  <li>
    <p>siege -C
<img src="/images/siege/siege_c.png" alt="siege -C" /></p>
  </li>
  <li>
    <p>siege -v
<img src="/images/siege/siege_v.png" alt="siege -v" /></p>
  </li>
  <li>
    <p>siege -d 10 -c 50 -t 10 https://www.baidu.com/ (模拟50个用户并发访问百度首页10秒)
<img src="/images/siege/siege_url.png" alt="结果3" /></p>
  </li>
  <li>
    <p>siege -d 10 -i -c 100 -t 10S -f urls.txt (模拟100个用户并发随机访问urls中的网址)
<img src="/images/siege/siege_file.png" alt="结果4" /></p>
  </li>
</ol>

<h3 id="result-parameter-description">Result Parameter Description</h3>

<pre><code>Transactions:165 hits //总请求次数165次
Availability:100.00 % //成功率100%
Elapsed time:9.55 secs //使用时间
Data transferred:0.03 MB //总数据传输
Response time:0.05 secs  // 响应时间，显示网络连接的速度
Transaction rate:17.28 trans/sec //平均每秒完成17.28次处理
Throughput:0.00 MB/sec//平均每秒传输数据
Concurrency:0.84  //实际最高并发连接数
Successful transactions:165  //成功请求次数
Failed transactions:0//失败请求次数
Longest transaction:0.12 //每次传输花费最长时间
Shortest transaction:0.02//每次传输花费最短时间
</code></pre>


				</span>
				<div class="journal-date">Published 20 April 2016</div>
				<div class="journal-tags">
				
				
	 
		<a class="tag-cont" href="/tags.html#Testing-ref">
			<div class="tag-l"></div>
			<div class="tag-c">Testing</div>
			<div class="tag-r"></div>
		</a>
	



				</div>
			</div>
		</div>
		<div class="clearboth"></div>
	</div>
</div>
	<div class="clearboth"></div>
        


  <div id="comments">
    <div class="ds-thread" data-thread-key="/Testing/2016/04/20/siege"  data-title="压测工具siege的简单使用 - Dolphin"></div>
</div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"mastery"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>





	<div class="clearboth"></div>
</div>


			</div>
			<div class="clearboth pagebottom"></div>
		</div>
	</div>
	<footer>
	<div class="footer-940">
		<div class="footer-general-info">
			© 2014 Feng Ling.<br><br>
			Content licensed under:<br>
			<a class="cc" href="http://creativecommons.org/licenses/by-sa/3.0/">c a b</a><br>
			<a href = "/about.html">About Me</a><br>
		</div>
		<div class="footer-col-cont">
			<div class="footer-nav-col">
				<h4><a>Categories</a></h4>
				<ul>
					
					


  
     
    	<li><a href="/categories.html#DataStructure-ref">
    		DataStructure <span>1</span>
    	</a></li>
     
    	<li><a href="/categories.html#Java-ref">
    		Java <span>4</span>
    	</a></li>
     
    	<li><a href="/categories.html#Notes-ref">
    		Notes <span>1</span>
    	</a></li>
     
    	<li><a href="/categories.html#Maven-ref">
    		Maven <span>2</span>
    	</a></li>
     
    	<li><a href="/categories.html#Spring-ref">
    		Spring <span>1</span>
    	</a></li>
     
    	<li><a href="/categories.html#Testing-ref">
    		Testing <span>1</span>
    	</a></li>
    
  


				</ul>
			</div>
			<div class="footer-nav-col">
				<h4><a>Pages</a></h4>
				<ul>
					
					
					


  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/about.html">About Me</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
  
    
  



				</ul>
			</div>
			<div class="footer-nav-col">
				<h4><a>Feed</a></h4>
				<ul>
					<li><a href="/atom.xml">Atom Feed</a></li>
					<li><a href="/rss.xml">RSS Feed</a></li>
				</ul>
			</div>
			<div class="footer-nav-col">
				<h4><a>Links</a></h4>
				<ul>
				 
					<li><a href = "http://mastery001.github.io/">Mastery's Blog</a></li>
				
				</ul>
			</div>
			<div class="footer-nav-col">
				<h4><a href = "/about.html">About Me</a></h4>
				<ul>
				 
					<li><a href = "mailto:zlfbasic@gmail.com">e-mail</a></li>
				 
					<li><a href = "https://github.com/mastery001">Github</a></li>
				 
					<li><a href = "https://plus.google.com/u/0/">Google+</a></li>
				
				</ul>
			</div>
			<div class="clearboth"></div>
		</div>
		<div class="clearboth"></div>
	</div>
	<div class="clearboth"></div>
</footer>
	
</body>
</html>

